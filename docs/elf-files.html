<!DOCTYPE html>
<html lang="en">

<head>
    <title>Notes on ELF Files - dknelsonWiki</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Pelican" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css">

    <link
        href="https://fonts.googleapis.com/css?family=Fira+Code:wght@500|Fira+Sans+Condensed|Cantarell|VT323&display=swap"
        rel="stylesheet">

    <link type="text/css" href="/theme/css/sphenodon.css" rel="stylesheet">
    <link type="text/css" href="/theme/css/pygments.css" rel="stylesheet">

    <link rel="shortcut icon" href="/images/favicon.ico" />





<meta name="tags" content="risc-v" />
<meta name="tags" content="gcc" />

</head>

<body>
    <div id="layout" class="pure-g">

        <div class="sidebar pure-u-1 pure-u-md-5-24">
            <nav id="sidebar">
                <div class="sidebar-header">
<div class="sitename"><a href="/">dknelsonWiki</a></div>
<div><small></small></div>
<div>
  <small>
    <a href="/">Posts</a>
    &nbsp;&nbsp;|&nbsp;&nbsp;
    <!-- <a href="/pages/dailies">Dailies</a> -->
    <!-- &nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="/feeds/all.rss.xml">RSS</a>
    <br> -->
    <a href="/categories">Categories</a>
    &nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="/tags">Tags</a>
    &nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="/archives">Archives</a>
  </small>
</div>
<br>                </div>
                <div class="sidebar-content">
                    <div class="toc"></div>
                </div>
                <div id="footer"><small>Powered by <a href="http://getpelican.com/">Pelican</a></small></div>
            </nav>
        </div>

        <nav class="phone-header">
<div class="sitename"><a href="/">dknelsonWiki</a></div>
<div><small></small></div>
<div>
  <small>
    <a href="/">Posts</a>
    &nbsp;&nbsp;|&nbsp;&nbsp;
    <!-- <a href="/pages/dailies">Dailies</a> -->
    <!-- &nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="/feeds/all.rss.xml">RSS</a>
    <br> -->
    <a href="/categories">Categories</a>
    &nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="/tags">Tags</a>
    &nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="/archives">Archives</a>
  </small>
</div>
<br>        </nav>

        <div class="content pure-u-1 pure-u-md-4-5">
            <article>
<section id="content" class="body">
    <div class="marginnote">
        <hr>
        <div class="article-information">
            <div class="article-information-heading uppercase">Published</div>
            <time class="published" datetime="2023-08-07T00:00:00-06:00">
                Mon 07 August 2023
            </time>
            <div class="category">
                Category: <a href="/categories#risc-v-ref">risc-v</a>
            </div>
            <div class="tags">
                Tags:
                <a href="/tags#risc-v-ref">risc-v</a>
                <a href="/tags#gcc-ref">gcc</a>
            </div>
        </div>
        <hr>
    </div>
    <header>
        <h1 class="entry-title">
            <a href="/elf-files.html" rel="bookmark"
                title="Permalink to Notes on ELF Files">Notes on ELF Files</a>
        </h1>
    </header>
    <article class="article-content">
        <p>As a continuation of working with the RISC-V version of GCC, I want to make sure I understand more details about the nuances of ELF files, to make sure nothing goes wrong and we won't have any issues using memory mapped I/O in our processor. Especially since if I can get away with it, being eventually able to <code>printf</code> to an LED array would be pretty cool, but is dependent on learning how <code>printf</code> actually works in the background</p>
<h2>Sections of an ELF file</h2>
<ul>
<li>ELF header</li>
<li><code>.text</code>: the machine code of the compiled program</li>
<li><code>.rodata</code>: Read only data such as the format strings in <code>printf</code> statements, and jump tables for switch statements</li>
<li><code>.data</code>: <em>Initialized</em> global and static C variables. Local C variables are maintained at run time on the stack and do <em>not</em> appear in either the <code>.data</code> or <code>.bss</code> sections</li>
<li><code>.bss</code>: <em>Uninitialized</em> global and static C variables, along wiht any global or static variables that are initialized to zero. This section occupies no actual space in the object file; it is merely a placeholder. Object file formats distinguish between initialized and unintialized variables for space efficiency: uninitialized variables do not have to occupy any actual disk space in the object file. At run time, these variables are allocated in memory with an initial value of zero</li>
<li><code>.symtab</code>: A <em>symbol table</em> with information about functions and global variables that are dfined and referenced in the program. Some programmers mistakenly believe that a program must be compiled with the <code>-g</code> option to get symbol table information. In fact, every relocatable object file has a symbol table in <code>.symtab</code> (unless the programmer has specifically removed it with the <code>strip</code> command). However, unlike the symbol table inside a compiler, the <code>.symtab</code> symbol table does not contain entries for local variables</li>
<li><code>.rel.text</code></li>
<li><code>.rel.data</code></li>
<li><code>.debug</code></li>
<li><code>.line</code></li>
<li><code>.strtab</code></li>
<li>Section header table</li>
</ul>
    </article>
</section>
                <hr>
            </article>
        </div>
    </div> </body>

</html>